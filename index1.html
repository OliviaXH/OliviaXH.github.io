<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<style type="text/css">
		body,h1,h2,h3,h4,p,dl,dd,ul,ol,form,input,textarea,th,td,select{margin: 0;padding: 0;}
		em{font-style: normal;}
		li{list-style: none;}
		a{text-decoration: none;}
		img{border: none;vertical-align: middle;}
		table{border-collapse: collapse;}
		input,textarea{outline: none;}
		textarea{resize:none;overflow: auto;}
		body{font-family: "黑体";}
		.fl{float: left;}
		.fr{float: right;}
		.after:after{
			content:'';
			display: block;
			clear: both;
		}
		html,body{
			width: 100%;
			height: 100%;
		}
		.content{
			width: 100%;
			height: 100%;
			position : absolute ;
		}
		.jindu{
			width: 500px;
			height: 5px;
		}
		.car{
			width: 500px;
			height: 300px;
			position: relative;
		}
		.car01,.car02,img{
			width: 100%;
			height: 100%;
			position: absolute;
		}
		.jindu p{
			width: 0%;
			height: 100%;
			background: red;
		}
		.anniu{
			width: 100px;
			height: 50px;
			background: blue;
			text-align: center;
			color: #fff;
		}
	</style>
</head>
<body>
	<div class="content">
		<div class="war">
			<div class="one">1</div>
			<div>12345上山打老虎</div>
			
			<div>12345上山打老虎</div>
		</div>
			
	</div>
</body>
<script src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
<script type="text/javascript">

  var width = document.documentElement.clientWidth;
  var height =  document.documentElement.clientHeight;
  if( width < height ){
      console.log(width + " " + height);
      $print =  $('.content');
      $print.width(height);
      $print.height(width);
      $print.css('top',  (height-width)/2 );
      $print.css('left',  0-(height-width)/2 );
      $print.css('transform' , 'rotate(90deg)');
      $print.css('transform-origin' , '50% 50%');
 }

 var evt = "onorientationchange" in window ? "orientationchange" : "resize";

    window.addEventListener(evt, function() {
        console.log(evt);
        var width = document.documentElement.clientWidth;
         var height =  document.documentElement.clientHeight;
          $print =  $('.content');
         if( width > height ){
            $print.width(width);
            $print.height(height);
            $print.css('top',  0 );
            $print.css('left',  0 );
            $print.css('transform' , 'none');
            $print.css('transform-origin' , '50% 50%');
         }
         else{
            $print.width(height);
            $print.height(width);
            $print.css('top',  (height-width)/2 );
            $print.css('left',  0-(height-width)/2 );
            $print.css('transform' , 'rotate(90deg)');
            $print.css('transform-origin' , '50% 50%');
         }
    }, false);

    var jishu=0;
    var time;
$(".kaishi").on("click",function(){
	time = new Date();
	$(this).hide()
})
    $(".anniu").on("click",function(){
    	if(jishu>240){
    		var timeEnd = new Date();
    		var tt=timeEnd-time;
    		alert("结束用时",tt)
    	}
    	jishu++;
    	var width=0.416666*jishu;
    	var op=0.004166*jishu;
    	$(".car02").css("opacity",op)
    	$(".jindu p").css("width",width+"%")
    	$("span").html(jishu)
    })
</script>
<script type="text/javascript">
//全屏事件
    (function() {
    var runPrefixMethod = function(element, method) {
        var usablePrefixMethod;
        ["webkit", "moz", "ms", "o", ""].forEach(function(prefix) {
            if (usablePrefixMethod) return;
            if (prefix === "") {
                // 无前缀，方法首字母小写
                method = method.slice(0,1).toLowerCase() + method.slice(1);
                
            }
            
            var typePrefixMethod = typeof element[prefix + method];
            
            if (typePrefixMethod + "" !== "undefined") {
                if (typePrefixMethod === "function") {
                    usablePrefixMethod = element[prefix + method]();
                } else {
                    usablePrefixMethod = element[prefix + method];
                }
            }
        });
        
        return usablePrefixMethod;
    };
    
    if (typeof window.screenX === "number") {
        var eleFull = document.querySelector(".content");
        eleFull.addEventListener("click", function() {
            if (runPrefixMethod(document, "FullScreen") || runPrefixMethod(document, "IsFullScreen")) {
                runPrefixMethod(document, "CancelFullScreen");
                this.title = this.title.replace("退出", "");
            } else if (runPrefixMethod(this, "RequestFullScreen")) {
                // this.title = this.title.replace("点击", "点击退出");
            }
        });
    } else {
        alert("爷，现在是年轻人的时代，您就暂且休息去吧~~");
    }
})();
//全屏事件 结束
</script>
</html>
